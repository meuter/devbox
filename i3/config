# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod1

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec i3-sensible-terminal

# kill focused window
bindsym Control+q kill

# start rofi
bindsym Control+space exec rofi -show window
bindsym $mod+space exec rofi -show drun

# focus
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move windows
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+h split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym F11 fullscreen toggle
bindsym $mod+F11 bar mode toggle


# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# shift+control left/right to swicth to next/prev workspace
bindsym $mod+Control+Left  workspace prev
bindsym $mod+Control+Right workspace next


# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

# reload the configuration file
bindsym $mod+Shift+c reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# resize window (you can also use the mouse for that)
mode "resize" {
        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 5 px or 5 ppt
        bindsym Down resize grow height 5 px or 5 ppt
        bindsym Up resize shrink height 5 px or 5 ppt
        bindsym Right resize grow width 5 px or 5 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# status bar
bar {
        status_command ~/.config/i3/bumblebee-status/bumblebee-status -m cpu memory date time -p root.path=/ time.format="%H:%M:%S" date.format="%a, %b %d %Y" -t solarized-powerline
        font pango:NotoMono Nerd Font Mono 10
        position top

        colors {
           background #AAAAAA
           statusline #101010
           separator  #000000
           #                  border  backgr. text
           focused_workspace  #586e75 #dfded0 #222222
           active_workspace   #333333 #5f676a #ffffff
        }

}

# no title on windows, simple 1 px border
for_window [class="^.*"] border pixel 2

# i3-gaps
gaps inner 0
gaps outer 0

# class                 border  backgr. text    indicator child_border
client.focused          #dfded0 #dfded0 #dfded0 #dfded0   #dfded0
client.focused_inactive #dfded0 #dfded0 #dfded0 #dfded0   #dfded0
client.unfocused        #586e75 #586e75 #586e75 #586e75   #586e75


# wallpaper
exec_always feh --bg-scale ~/.devbox/wallpapers/sunset.jpg

# disable mouse focus
focus_follows_mouse no

# keyboard shortcut
bindsym Control+Shift+t exec thunar
bindsym Control+Shift+g exec google-chrome
bindsym Control+Shift+o exec code

# shortcut edit config
bindsym Control+$mod+c exec ~/.devbox/i3/i3-terminal-exec.sh $HOME/.devbox/ vim

# config reboot/shutdown/exit shortcut
set $mode_system System (e)xit, (r)eboot, (s)hutdown
mode "$mode_system" {
    bindsym e exec --no-startup-id i3-msg exit, mode "default"
    bindsym r exec --no-startup-id dbus-send --system --print-reply --dest=org.freedesktop.login1 /org/freedesktop/login1 "org.freedesktop.login1.Manager.Reboot" boolean:true, mode "default"
    bindsym s exec --no-startup-id dbus-send --system --print-reply --dest=org.freedesktop.login1 /org/freedesktop/login1 "org.freedesktop.login1.Manager.PowerOff" boolean:true, mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Pause mode "$mode_system"

# turn on numlock
exec_always --no-startup-id numlockx on

# startup minicom
bindsym Control+Shift+m exec --no-startup-id i3-msg 'workspace 1:Web; exec /usr/bin/firefox'

# spica shortcuts (vscode, Qb terminal, etc)
bindsym $mod+p mode "$mode_spica"
set $mode_spica SPICA shortcuts: (o) editor emv-nfc | (p) terminal emv-nfc | (q) terminal Qb
mode "$mode_spica" {
	bindsym o exec "code /home/cme/workspace/spica/native/emv-nfc"; mode "default"; 
	bindsym p exec "rxvt -cd /home/cme/workspace/spica/native/emv-nfc/ -e $SHELL"; mode "default";
    bindsym v exec "rxvt -cd /home/cme/workspace/spica/native/emv-nfc/ -e vim"; mode "default";
    bindsym q exec "rxvt -cd /home/cme/workspace/spica/test/QbPlatform/ -e $SHELL -c 'source ./setpath.sh;cd test_cases/emv_L2/NFC;$SHELL -i'"; mode "default";
	bindsym Escape mode "default"
    bindsym Return mode "default"
}


# samoa shortcuts (vscode, Qb terminal, etc)
bindsym $mod+m mode "$mode_samoa"
set $mode_samoa SAMOA shortcuts: (o) editor emv-nfc | (p) terminal emv-nfc | (t) editor Qb | (q) terminal Qb | (b) terminal samoa-bot | (v) vim emv_nfc
mode "$mode_samoa" {
	bindsym o exec "code /home/cme/workspace/samoa/native/emv-nfc"; mode "default"; 
    bindsym v exec "rxvt -cd /home/cme/workspace/samoa/native/emv-nfc/ -e vim"; mode "default";
	bindsym p exec "rxvt -cd /home/cme/workspace/samoa/native/emv-nfc/ -e $SHELL"; mode "default";
	bindsym t exec "code /home/cme/workspace/samoa/test/QbPlatform/"; mode "default"; 
	bindsym q exec "rxvt -cd /home/cme/workspace/samoa/test/QbPlatform/ -e $SHELL -c 'source ./setpath.sh;cd test_cases/emv_L2/NFC;$SHELL -i'"; mode "default";
	bindsym b exec "rxvt -cd /home/cme/workspace/samoa/test/samoa-bot/scripts -e $SHELL -c 'source ./set_python_path.sh; cd emv; $SHELL -i'"; mode "default";
	bindsym Escape mode "default"
    bindsym Return mode "default"
}

